# multi-turn-conversation.yaml
# =============================
# Test multi-turn conversations where context matters.
# Use an array of messages in the prompt field.
#
# Run with: artemiskit run examples/scenarios/getting-started/multi-turn-conversation.yaml

name: multi-turn-conversation
description: Testing conversations with multiple turns

# System prompt applied to all cases
setup:
  systemPrompt: |
    You are a helpful assistant that remembers context from the conversation.

cases:
  # ---- Basic Multi-Turn ----
  - id: remember-name
    name: Context retention test
    prompt:
      - role: user
        content: "My name is Alice"
      - role: assistant
        content: "Nice to meet you, Alice!"
      - role: user
        content: "What is my name?"
    expected:
      type: contains
      values:
        - "Alice"
      mode: any

  # ---- Customer Support Flow ----
  - id: support-ticket-flow
    name: Support conversation
    prompt:
      - role: user
        content: "I need help with my order"
      - role: assistant
        content: "I'd be happy to help with your order. What's the order number?"
      - role: user
        content: "The order number is #12345"
    expected:
      type: regex
      pattern: "12345"
