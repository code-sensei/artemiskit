# multi-turn-conversation.yaml
# =============================
# Test multi-turn conversations where context matters.
# Use 'turns' instead of 'prompt' to simulate back-and-forth dialogue.
#
# Run with: artemiskit run examples/scenarios/getting-started/multi-turn-conversation.yaml

name: multi-turn-conversation
description: Testing conversations with multiple turns

# System prompt applied to all cases
system: |
  You are a helpful assistant that remembers context from the conversation.

cases:
  # ---- Basic Multi-Turn ----
  - name: remember-name
    turns:
      - role: user
        content: "My name is Alice"
      - role: assistant
        # Assert on the model's first response
        assert:
          - type: contains
            value: "Alice"
      - role: user
        content: "What is my name?"
      - role: assistant
        # Model should remember the name from earlier
        assert:
          - type: contains
            value: "Alice"

  # ---- Customer Support Flow ----
  - name: support-ticket-flow
    turns:
      - role: user
        content: "I need help with my order"
      - role: assistant
        assert:
          - type: contains
            value: "order"
          - type: not-contains
            value: "cannot help"
      - role: user
        content: "The order number is #12345"
      - role: assistant
        assert:
          - type: regex
            pattern: "12345"
      - role: user
        content: "I want a refund"
      - role: assistant
        assert:
          - type: contains
            value: "refund"
